<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>LTPV: Light Temporal Performance Viewer</title>
		<style type="text/css">h1{text-align:center;}</style>
	</head>
<body>
<h1>LTPV: Light Temporal Performance Viewer</h1>
<p>This project is a light, generic, graphical web-browser-based profiler.</p>

<p>LPTV is a graphical profiler built with Javascript/HTML5. It is typically used for displaying temporal behavior of an OpenCL application, but can easily be used with other languages. It reads information coming from an XML file that must be externally created. An API is provided for creating this XML information file quite quickly if your program uses OpenCL.</p>
<p>The data flow is basically the following:<br /><img src="README_inc/schemaProfiler.png" style="width:500px"/></p>

<h2>Graphical part</h2>
<h3>HTML profiler</h3>
<p>Open "profiler/index.html" with Firefox or Chromium to see a typical result. Your should see a profiling example near to the following:<br /><img src="README_inc/index_html.png" style="width:500px"/></p>

<h3>XML interface</h3>
<p>A light XML model is available here: profiler/inc/profiling_model.xml. Your can create your own XML creator, or use the APIs provided with the project. <strong>Did you create your own API? We would be glad to provide it with the project.</strong></p>

<h2>OpenCL API</h2>
<p>This stack aims to provide some facilities when using the profiler with OpenCL.<br />
How to use it? The best way to know it is to look at the basic example given with this profiler. Take a glance at callKernels.cpp in particular.<br />


<p><strong>1</strong> - Replace the following function calls:</p>
<ul>
<li>clCreateContext      by profiler_clCreateContext</li>
<li>clCreateCommandQueue by profiler_clCreateCommandQueue -> add as an extra parameter a string with the queue name</li>
<li>clCreateKernel by profiler_clCreateKernel</li>
<li>cl_addTaskInstance by profiler_cl_addTaskInstance</li>
<li>clEnqueueNDRangeKernel by profiler_clEnqueueNDRangeKernel</li>
<li>clEnqueueWriteBuffer by profiler_clEnqueueWriteBuffer</li>
<li>clEnqueueReadBuffer by profiler_clEnqueueReadBuffer</li>
</ul>
	
<p><strong>2</strong> - Don't forget to call profiler_start() when you want the clock to turn, and to call profiler_stopAndRecord(const void *filename) at the end to create the XML file.</p>

<p><strong>3</strong> - Compile and run your program and open index.html?p=THEPATHTOYOURXMLFILE.xml</p>


<h2>Credits</h2>
<p>This project has been initiated by <a href="http://simon.denel.fr" target="_blank">Simon DENEL</a> at <a href="www.thalesgroup.com" target="_blank">Thales Research & Technology</a>.</p>
</body>
</html>

